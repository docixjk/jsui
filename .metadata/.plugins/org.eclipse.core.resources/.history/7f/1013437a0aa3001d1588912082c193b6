package co.yedam.common;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

public class DAO {
	String url = "jdbc:oracle:thin:@localhost:1521:xe";
	// @ 뒤에 ip주소나 내pc에서만 접속하고 싶으면 localhost 치고 뒤에 포트정보 그 뒤에 어떤 db를 선택할지 선택(sid)
	String user = "hr";
	String pass = "hr";

	public Connection conn; // 연결하기 위해
	public Statement stmt = null; // 쿼리실행, 처리결과 객체.
	public PreparedStatement psmt = null; // Statement와 조금 다름.
	public ResultSet rs = null; // 처리된 결과를 받아오기 위해
	public String sql;

	public void connect() {
		try {
			Class.forName("oracle.jdbc.OracleDriver");
			conn = DriverManager.getConnection(url, user, pass);
		} catch (ClassNotFoundException | SQLException e) {
			System.out.println("에러발생.");
			e.printStackTrace();
		}
	}

	public void disconnect() {
		// 사용한 리소스를 환원해주도록 close
		try {
			if (conn != null) {
				conn.close();
			}
			if (stmt != null) {
				stmt.close();
			}
			if (psmt != null) {
				psmt.close();
			}
			if (rs != null) {
				rs.close();
			}
		} catch (SQLException e) {
			e.printStackTrace();
		}
	}
}
